<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Progetti didattici su Alessandro Scarlatti – Timeline</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9f9f9; }
    header { background:#2c3e50; color:#fff; padding:1rem; text-align:center; }
    .timeline { display:flex; flex-wrap:wrap; gap:1rem; justify-content:center; margin:2rem 0; }
    .timeline button { background:#ecf0f1; padding:1rem; border-radius:8px; border:1px solid #ccc; cursor:pointer; }
    .timeline button.active { background:#1e88e5; color:#fff; }
    .panel { display:none; padding:1rem; border:1px solid #ddd; border-radius:8px; background:#fff; margin:1rem auto; max-width:900px; }
    #commenti { padding:2rem; background:#f0f0f0; }
    #commenti form { display:grid; gap:.6rem; max-width:600px; margin:auto; }
    #commenti input, #commenti textarea { padding:.6rem; border:1px solid #ccc; border-radius:8px; }
    #commenti button { padding:.6rem 1rem; border:none; border-radius:8px; background:#1e88e5; color:#fff; cursor:pointer; }
    #notes { list-style:none; padding:0; margin-top:1rem; display:grid; gap:.6rem; }
    #notes li { padding:.8rem; border:1px solid #ddd; border-radius:10px; background:#fff; }
    .meta { color:#666; font-size:.85rem; }
  </style>
</head>
<body>
  <header>
    <h1>La strada della ricerca – Progetti Scarlatti</h1>
    <p>Conservatorio San Pietro a Majella · Biblioteca Apostolica Vaticana</p>
  </header>

  <!-- Timeline -->
  <div class="timeline">
    <button data-target="p1">Farfalletta intorno al lume di Alessandro Scarlatti: il viaggio di un'aria barocca dal manoscritto al leggio<br><small>Nicoletta Apuzzo e Maria Gabriella Taliercio</small></button>
    <button data-target="p2">Dai manoscritti all’ascolto: la riscoperta delle musiche di Alessandro Scarlatti<br><small>Francesca Stanziola</small></button>
    <button data-target="p3">Scripta manent: trascrivere per conoscere – Una ricerca tra le cantate di Alessandro Scarlatti<br><small>Marta Cataldo</small></button>
    <button data-target="p4">Visita al Conservatorio San Pietro a Majella guidati dai manoscritti<br><small>Rosa Maria Amendola</small></button>
    <button data-target="p5">Biblioteca Apostolica Vaticana: le note nel tempo<br><small>Giorgia Bucci e Ludovica Aisha Giada Vitiello</small></button>
  </div>

  <!-- Pannelli con i contenuti dei progetti -->
  <div id="p1" class="panel">
    <h2>Farfalletta intorno al lume di Alessandro Scarlatti: il viaggio di un'aria barocca dal manoscritto al leggio</h2>
    <p><em>Nicoletta Apuzzo e Maria Gabriella Taliercio</em></p>
    <!-- Inserisci qui il testo del file Scarlatti.docx -->
  </div>

  <div id="p2" class="panel">
    <h2>Dai manoscritti all’ascolto: la riscoperta delle musiche di Alessandro Scarlatti</h2>
    <p><em>Francesca Stanziola</em></p>
    <!-- Inserisci qui il testo del file 2.pdf -->
  </div>

  <div id="p3" class="panel">
    <h2>Scripta manent: trascrivere per conoscere – Una ricerca tra le cantate di Alessandro Scarlatti</h2>
    <p><em>Marta Cataldo</em></p>
    <!-- Inserisci qui il testo del file 3.pdf -->
  </div>

  <div id="p4" class="panel">
    <h2>Visita al Conservatorio San Pietro a Majella guidati dai manoscritti</h2>
    <p><em>Rosa Maria Amendola</em></p>
    <!-- Inserisci qui il testo del file 4.pdf -->
  </div>

  <div id="p5" class="panel">
    <h2>Biblioteca Apostolica Vaticana: le note nel tempo</h2>
    <p><em>Giorgia Bucci e Ludovica Aisha Giada Vitiello</em></p>
    <!-- Inserisci qui il testo del file 5.pdf -->
  </div>

  <!-- Bacheca commenti -->
  <section id="commenti">
    <h2>Bacheca del progetto</h2>
    <form id="noteForm">
      <input type="text" id="author" placeholder="Nome" required>
      <textarea id="message" placeholder="Scrivi un commento..." rows="3" required></textarea>
      <button type="submit">Pubblica</button>
    </form>
    <ul id="notes"></ul>
  </section>

  <script>
    // Gestione timeline
    const buttons = document.querySelectorAll('.timeline button');
    const panels = document.querySelectorAll('.panel');
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        panels.forEach(p => p.style.display = 'none');
        buttons.forEach(b => b.classList.remove('active'));
        document.getElementById(btn.dataset.target).style.display = 'block';
        btn.classList.add('active');
      });
    });

    // Bacheca commenti con localStorage
    const key = 'projectNotes';
    const form = document.getElementById('noteForm');
    const list = document.getElementById('notes');
    function load() {
      const data = JSON.parse(localStorage.getItem(key) || '[]');
      list.innerHTML = '';
      data.forEach((n, i) => {
        const li = document.createElement('li');
        li.innerHTML = `<div class="meta">${n.author} — ${new Date(n.date).toLocaleString()}</div><div>${n.message}</div>`;
        list.appendChild(li);
      });
    }
    form.addEventListener('submit', e => {
      e.preventDefault();
      const note = {
        author: document.getElementById('author').value.trim(),
        message: document.getElementById('message').value.trim(),
        date: Date.now()
      };
      if (!note.author || !note.message) return;
      const data = JSON.parse(localStorage.getItem(key) || '[]');
      data.unshift(note);
      localStorage.setItem(key, JSON.stringify(data));
      form.reset();
      load();
    });
    load();
  </script>
</body>
</html>
